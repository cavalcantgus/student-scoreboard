{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7ebc2903\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"page-title\"\n}, \"Sistema de Cadastro de Notas\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_chip = _resolveComponent(\"v-chip\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_StudentForm = _resolveComponent(\"StudentForm\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createVNode(_component_v_data_table, {\n    headers: $data.headers,\n    items: $data.students,\n    \"item-key\": \"id\"\n  }, {\n    [`item.name`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n    [`item.subject`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.subject), 1 /* TEXT */)]),\n    [`item.grade1`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.grade1), 1 /* TEXT */)]),\n    [`item.grade2`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.grade2), 1 /* TEXT */)]),\n    [`item.grade3`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.grade3), 1 /* TEXT */)]),\n    [`item.grade4`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString(item.grade4), 1 /* TEXT */)]),\n    [`item.average`]: _withCtx(({\n      item\n    }) => [_createTextVNode(_toDisplayString($options.calculateAverage(item)), 1 /* TEXT */)]),\n    [`item.status`]: _withCtx(({\n      item\n    }) => [_createVNode(_component_v_chip, {\n      color: $options.getColor(item),\n      class: \"status-chip\",\n      \"text-color\": \"white\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($options.calculateStatus(item)), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"])]),\n    [`item.actions`]: _withCtx(({\n      item\n    }) => [_createVNode(_component_v_icon, {\n      onClick: $event => $options.editStudent(item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"mdi-pencil\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_icon, {\n      onClick: $event => $options.deleteStudent(item)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"mdi-delete\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n    _: 2 /* DYNAMIC */\n  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"headers\", \"items\"]), _createVNode(_component_v_btn, {\n    class: \"add-button\",\n    color: \"primary\",\n    onClick: $options.showForm\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Cadastrar\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_StudentForm, {\n    student: $data.currentStudent,\n    visible: $data.formVisible,\n    onSave: $options.saveStudent,\n    onCancel: $options.closeForm\n  }, null, 8 /* PROPS */, [\"student\", \"visible\", \"onSave\", \"onCancel\"])]);\n}","map":{"version":3,"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_createVNode","_component_v_data_table","headers","$data","items","students","_withCtx","item","_createTextVNode","_toDisplayString","name","subject","grade1","grade2","grade3","grade4","$options","calculateAverage","_component_v_chip","color","getColor","default","calculateStatus","_","_component_v_icon","onClick","$event","editStudent","deleteStudent","_component_v_btn","showForm","_component_StudentForm","student","currentStudent","visible","formVisible","onSave","saveStudent","onCancel","closeForm"],"sources":["C:\\Temp\\ws-vscode\\student-score-board\\src\\components\\StudentTable.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 class=\"page-title\">Sistema de Cadastro de Notas</h1>\r\n    <v-data-table :headers=\"headers\" :items=\"students\" item-key=\"id\">\r\n      <template v-slot:[`item.name`]=\"{ item }\">\r\n        {{ item.name }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.subject`]=\"{ item }\">\r\n        {{ item.subject}}\r\n      </template>\r\n\r\n      <template v-slot:[`item.grade1`]=\"{ item }\">\r\n        {{ item.grade1 }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.grade2`]=\"{ item }\">\r\n        {{ item.grade2 }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.grade3`]=\"{ item }\">\r\n        {{ item.grade3 }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.grade4`]=\"{ item }\">\r\n        {{ item.grade4 }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.average`]=\"{ item }\">\r\n        {{ calculateAverage(item) }}\r\n      </template>\r\n\r\n      <template v-slot:[`item.status`]=\"{ item } \">\r\n        <v-chip :color=\"getColor(item)\" class=\"status-chip\" text-color=\"white\">\r\n            {{ calculateStatus(item) }}\r\n        </v-chip>\r\n      </template>\r\n\r\n      <template v-slot:[`item.actions`]=\"{ item }\">\r\n        <v-icon @click=\"editStudent(item)\">mdi-pencil</v-icon>\r\n        <v-icon @click=\"deleteStudent(item)\">mdi-delete</v-icon>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <v-btn class=\"add-button\" color=\"primary\" @click=\"showForm\">Cadastrar</v-btn>\r\n\r\n    <StudentForm \r\n      :student=\"currentStudent\"\r\n      :visible=\"formVisible\"\r\n      @save=\"saveStudent\"\r\n      @cancel=\"closeForm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StudentForm from './StudentForm.vue';\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport default {\r\n  components: {\r\n    StudentForm\r\n  },\r\n  data() {\r\n    return {\r\n      headers: [\r\n        { title: 'Aluno', value: 'name' },\r\n        { title: 'Disciplina', value: 'subject' },\r\n        { title: '1° Bim', value: 'grade1' },\r\n        { title: '2° Bim', value: 'grade2' },\r\n        { title: '3° Bim', value: 'grade3' },\r\n        { title: '4° Bim', value: 'grade4' },\r\n        { title: 'Média', value: 'average' },\r\n        { title: 'Situação', value: 'status' },\r\n        { title: 'Ações', value: 'actions', sortable: false }\r\n      ],\r\n      students: [],\r\n      currentStudent: {},\r\n      formVisible: false\r\n    };\r\n  },\r\n  methods: {\r\n    showForm(student = {}) {\r\n      this.currentStudent = { ...student }\r\n      this.formVisible = true\r\n    },\r\n    closeForm() {\r\n      this.formVisible = false\r\n    },\r\n    async saveStudent(student) { \r\n      if (student.id) {\r\n        const index = this.students.findIndex(s => s.id === student.id)\r\n        if (index !== -1) {\r\n          this.students[index] = student\r\n        }\r\n      } else {\r\n        student.id = uuidv4()\r\n        this.students.push(student)\r\n      }\r\n      this.closeForm();\r\n    },\r\n    editStudent(student) {\r\n      this.showForm(student)\r\n    },\r\n    deleteStudent(student) {\r\n      this.students = this.students.filter(s => s.id !== student.id)\r\n    },\r\n    calculateAverage(student) {\r\n      const grades = [student.grade1, student.grade2, student.grade3, student.grade4].map(Number)\r\n      const total = grades.reduce((sum, grade) => sum + grade, 0)\r\n      return (total / grades.length).toFixed(2)\r\n    },\r\n    calculateStatus(student) {\r\n      return this.calculateAverage(student) >= 7 ? 'Aprovado' : 'Reprovado'\r\n    },\r\n    getColor(student) {\r\n        return this.calculateStatus(student) === 'Aprovado' ? 'green' : 'red'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-title {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.add-button {\r\n  margin-top: auto; /* Push the button to the bottom */\r\n  align-self: flex-end; /* Align button to the right */\r\n}\r\n\r\n.status-chip {\r\n    width: 100%;\r\n    text-align: center;\r\n    font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":";;gEAEIA,mBAAA,CAAwD;EAApDC,KAAK,EAAC;AAAY,GAAC,8BAA4B;;;;;;;uBADrDC,mBAAA,CAmDM,cAlDJC,UAAwD,EACxDC,YAAA,CAuCeC,uBAAA;IAvCAC,OAAO,EAAEC,KAAA,CAAAD,OAAO;IAAGE,KAAK,EAAED,KAAA,CAAAE,QAAQ;IAAE,UAAQ,EAAC;;IACzC,eAAaC,QAAA,CAC5B,CAAe;MADiBC;IAAI,OAJ5CC,gBAAA,CAAAC,gBAAA,CAKWF,IAAI,CAACG,IAAI,iB;IAGG,kBAAgBJ,QAAA,CAC/B,CAAiB;MADkBC;IAAI,OAR/CC,gBAAA,CAAAC,gBAAA,CASWF,IAAI,CAACI,OAAO,iB;IAGA,iBAAeL,QAAA,CAC9B,CAAiB;MADiBC;IAAI,OAZ9CC,gBAAA,CAAAC,gBAAA,CAaWF,IAAI,CAACK,MAAM,iB;IAGC,iBAAeN,QAAA,CAC9B,CAAiB;MADiBC;IAAI,OAhB9CC,gBAAA,CAAAC,gBAAA,CAiBWF,IAAI,CAACM,MAAM,iB;IAGC,iBAAeP,QAAA,CAC9B,CAAiB;MADiBC;IAAI,OApB9CC,gBAAA,CAAAC,gBAAA,CAqBWF,IAAI,CAACO,MAAM,iB;IAGC,iBAAeR,QAAA,CAC9B,CAAiB;MADiBC;IAAI,OAxB9CC,gBAAA,CAAAC,gBAAA,CAyBWF,IAAI,CAACQ,MAAM,iB;IAGC,kBAAgBT,QAAA,CAC/B,CAA4B;MADOC;IAAI,OA5B/CC,gBAAA,CAAAC,gBAAA,CA6BWO,QAAA,CAAAC,gBAAgB,CAACV,IAAI,kB;IAGT,iBAAeD,QAAA,CAC9B,CAES;MAHyBC;IAAI,OACtCP,YAAA,CAESkB,iBAAA;MAFAC,KAAK,EAAEH,QAAA,CAAAI,QAAQ,CAACb,IAAI;MAAGV,KAAK,EAAC,aAAa;MAAC,YAAU,EAAC;;MAjCvEwB,OAAA,EAAAf,QAAA,CAkCY,MAA2B,CAlCvCE,gBAAA,CAAAC,gBAAA,CAkCeO,QAAA,CAAAM,eAAe,CAACf,IAAI,kB;MAlCnCgB,CAAA;;IAsCuB,kBAAgBjB,QAAA,CAC/B,CAAsD;MADnBC;IAAI,OACvCP,YAAA,CAAsDwB,iBAAA;MAA7CC,OAAK,EAAAC,MAAA,IAAEV,QAAA,CAAAW,WAAW,CAACpB,IAAI;;MAvCxCc,OAAA,EAAAf,QAAA,CAuC2C,MAAU,CAvCrDE,gBAAA,CAuC2C,YAAU,E;MAvCrDe,CAAA;sDAwCQvB,YAAA,CAAwDwB,iBAAA;MAA/CC,OAAK,EAAAC,MAAA,IAAEV,QAAA,CAAAY,aAAa,CAACrB,IAAI;;MAxC1Cc,OAAA,EAAAf,QAAA,CAwC6C,MAAU,CAxCvDE,gBAAA,CAwC6C,YAAU,E;MAxCvDe,CAAA;;IAAAA,CAAA;6DA4CIvB,YAAA,CAA6E6B,gBAAA;IAAtEhC,KAAK,EAAC,YAAY;IAACsB,KAAK,EAAC,SAAS;IAAEM,OAAK,EAAET,QAAA,CAAAc;;IA5CtDT,OAAA,EAAAf,QAAA,CA4CgE,MAAS,CA5CzEE,gBAAA,CA4CgE,WAAS,E;IA5CzEe,CAAA;kCA8CIvB,YAAA,CAKE+B,sBAAA;IAJCC,OAAO,EAAE7B,KAAA,CAAA8B,cAAc;IACvBC,OAAO,EAAE/B,KAAA,CAAAgC,WAAW;IACpBC,MAAI,EAAEpB,QAAA,CAAAqB,WAAW;IACjBC,QAAM,EAAEtB,QAAA,CAAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}